---
title: "Sync Certificates to Azure Key Vault"
openapi: "POST /api/v1/pki/syncs/azure-key-vault/{pkiSyncId}/sync"
---

<Info>
This endpoint triggers a manual synchronization of certificates from Infisical to the specified Azure Key Vault. It will upload all active certificates from the connected PKI subscriber to the Azure Key Vault, creating or updating certificates as needed.
</Info>

<Note>
Certificates are uploaded to Azure Key Vault with their certificate and private key combined in PEM format. The certificate key properties (RSA/ECDSA type and key size) are automatically detected and configured appropriately.
</Note>

## Request

<ParamField path="pkiSyncId" type="string" required>
  The ID of the Azure Key Vault PKI sync to trigger synchronization for
</ParamField>

<ParamField query="projectId" type="string" optional>
  Project ID for additional authorization (will be inferred if not provided)
</ParamField>

## Response

<ResponseField name="message" type="string">
  Success message confirming the sync operation has been triggered
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://app.infisical.com/api/v1/pki/syncs/azure-key-vault/ps_12345/sync" \
  -H "Authorization: Bearer <your-api-key>"
```
</RequestExample>

<ResponseExample>
```json Response
{
  "message": "Sync operation has been triggered successfully"
}
```
</ResponseExample>

## Behavior

When this endpoint is called:

1. **Certificate Collection**: All active (non-expired) certificates from the connected PKI subscriber are collected
2. **Key Property Detection**: Each certificate's key properties (RSA/ECDSA type, key size, curve) are automatically detected
3. **Azure Key Vault Upload**: Certificates are uploaded to Azure Key Vault with the correct key properties
4. **Certificate Naming**: Certificates are prefixed with "Infisical-" in Azure Key Vault for identification
5. **Status Tracking**: The sync status is updated and can be monitored through the PKI sync object

<Warning>
This operation requires appropriate permissions in the Azure Key Vault. Ensure your Azure Key Vault app connection has sufficient permissions to create and update certificates.
</Warning>