---
title: "Remove Certificates from Azure Key Vault"
openapi: "POST /api/v1/pki/syncs/azure-key-vault/{pkiSyncId}/remove"
---

<Warning>
This endpoint permanently removes certificates from Azure Key Vault. Only certificates managed by Infisical (prefixed with "Infisical-") will be removed. This action cannot be undone.
</Warning>

<Info>
This endpoint removes certificates from the specified Azure Key Vault that are no longer active in Infisical or are expired. It helps clean up outdated certificates and maintain security hygiene.
</Info>

## Request

<ParamField path="pkiSyncId" type="string" required>
  The ID of the Azure Key Vault PKI sync to remove certificates from
</ParamField>

<ParamField query="projectId" type="string" optional>
  Project ID for additional authorization (will be inferred if not provided)
</ParamField>

## Response

<ResponseField name="message" type="string">
  Success message confirming the remove operation has been triggered
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://app.infisical.com/api/v1/pki/syncs/azure-key-vault/ps_12345/remove" \
  -H "Authorization: Bearer <your-api-key>"
```
</RequestExample>

<ResponseExample>
```json Response
{
  "message": "Remove operation has been triggered successfully"
}
```
</ResponseExample>

## Behavior

When this endpoint is called:

1. **Certificate Identification**: Identifies certificates in Azure Key Vault that are managed by Infisical (prefixed with "Infisical-")
2. **Status Check**: Compares against active certificates in the connected PKI subscriber
3. **Selective Removal**: Removes only certificates that are:
   - Expired or revoked in Infisical
   - No longer present in the PKI subscriber
   - Managed by Infisical (prefixed with "Infisical-")
4. **Status Tracking**: The remove status is updated and can be monitored through the PKI sync object

<Note>
- Only certificates with the "Infisical-" prefix are considered for removal
- Certificates not managed by Infisical remain untouched
- Disabled certificates in Azure Key Vault are skipped during the removal process
</Note>

<Warning>
This operation requires appropriate permissions in the Azure Key Vault. Ensure your Azure Key Vault app connection has sufficient permissions to delete certificates.
</Warning>